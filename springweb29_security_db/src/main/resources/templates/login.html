<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>templates/login.html</title>
</head>
<body>
<h2>로그인 연습(Security 사용 O, DB 연동)</h2>
<form th:action="@{/auth/login}" method="post">
	<table>
		<tr>
			<td>사원번호 : </td>
			<td>
				<input type="text" name="sabun" required="required">
			</td>
		</tr>
		<tr>
			<td>사원이름 : </td>
			<td>
				<input type="text" name="irum" required="required">
			</td>
		</tr>
		<tr>
			<td colspan="2" style="text-align: center;">
				<input type="submit" value="로그인">
			</td>
		</tr>
	</table>
	
	<!-- CSRF 해킹 방지용 (Spring Security) -->
	<!-- spring server가 알아서 csrf 방지를 위해서 토큰값을 만들어 클라이언트에게 넘겨주고 클라이언트가 접속할 때 마다 체크 -->
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
	
</form>
<div th:if="${param.error}">
	<p style="color: red;">로그인 실패 : 잘못된 사원번호 또는 사원이름입니다</p>
</div>
<!-- 로그인 실패했을 때 -->
<div style="color: red;">
	<th:block th:if="${error}">[[${error}]]</th:block>
</div>
</body>
</html>